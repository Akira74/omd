diff -ur nagios-3.2.2.orig/base/config.c nagios-3.2.2/base/config.c
--- nagios-3.2.2.orig/base/config.c	2009-05-17 14:54:28.000000000 +0200
+++ nagios-3.2.2/base/config.c	2010-10-03 22:26:40.206628209 +0200
@@ -31,6 +31,8 @@
 #include "../include/nebmods.h"
 #include "../include/nebmodules.h"
 
+#include <sys/types.h>
+#include <dirent.h>
 
 extern char	*log_file;
 extern char     *command_file;
@@ -245,8 +247,7 @@
         }
 
 
-/* process the main configuration file */
-int read_main_config_file(char *main_config_file){
+int read_nagios_config_file(char *main_config_file){
 	char *input=NULL;
 	char *variable=NULL;
 	char *value=NULL;
@@ -1386,6 +1387,42 @@
 	return OK;
 	}
 
+int read_nagios_d(char *main_config_file)
+{
+    char dirpath[4096];
+    char filepath[4096];
+    strncpy(dirpath, main_config_file, sizeof(dirpath) - 2);
+    if (!strcmp(dirpath + strlen(dirpath) - 4, ".cfg")) { /* strip off .cfg if present */
+        dirpath[strlen(dirpath) - 4] = 0;
+    }
+    strcat(dirpath, ".d");
+    DIR *dir = opendir(dirpath);
+    int result = 0;
+    if (dir) {
+        struct dirent *de;
+        while (de = readdir(dir)) {
+            if (!strcmp(de->d_name + strlen(de->d_name) - 4, ".cfg")) {
+                snprintf(filepath, sizeof(filepath), "%s/%s", dirpath, de->d_name);
+                int new_result = read_nagios_config_file(filepath);
+                if (new_result != 0)
+                    result = new_result;
+            }
+        }
+        closedir(dir);
+    }
+    return result;
+}
+
+
+/* process the main configuration file */
+int read_main_config_file(char *main_config_file){
+    int result;
+    /* OMD patch: read all config files in nagios.d first */
+    result = read_nagios_d(main_config_file);
+    if (result == 0)
+        result = read_nagios_config_file(main_config_file);
+    return result;
+}
 
 
 /* processes macros in resource file */
