#!/usr/bin/env perl

use warnings;
use strict;
use lib '/omd/versions/default/lib/perl5/lib/perl5';
use Data::Dumper;
use lib 'src';
use OMDHelper;

####################################
# download modules
chdir("src");
my $downloaded;
for my $module (@ARGV) {
    $module =~ s/\//::/g;
    $module =~ s/\.pm$//g;
    print $module." is a core module\n" if OMDHelper::is_core_module($module);
    $downloaded = OMDHelper::download_module($module);
}
# print result of all downloaded files
if(scalar @{$downloaded} > 0) {
    print "\n";
    print "please add the following tarballs to the Makefile:\n";
    print join("\n", @{$downloaded});
    print "\n";
} else {
    print "no new packages downloaded\n";
}

